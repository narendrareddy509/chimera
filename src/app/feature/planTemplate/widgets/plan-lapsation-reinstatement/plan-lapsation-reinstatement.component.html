<section class="mt-2" *ngIf="reinstatement">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <h4 class="card-title mr-auto">
              <i-feather name="rotate-cw"></i-feather>
              {{ "plan.lapsationReinstatement.title" | translate }}
            </h4>
            <div class="btn-group" role="group">

              <button class="btn btn-primary btn-sm" (click)="showFormulas()"
                [disabled]="reinstatementFormulaOptions?.length === 0">
                <img src="../../../../../assets/images/formulas-icon-white.svg" /> Formulas
              </button>
              <button class="btn btn-primary btn-sm ml-1" (click)="showUnderwritingRules()">
                <img src="../../../../../assets/images/Rules-white.svg" /> {{ "plan.rules" | translate
                }}
              </button>
            </div>
          </div>
          <div class="intro-text" [innerHTML]="'plan.lapsationReinstatement.widgetInfo' | translate">
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="selectedModules?.length===0">
            {{"plan.noFormulaSelected" | translate: {title: ("plan.lapsationReinstatement.title" |
            translate) } }} <a class="text-reset" (click)="showFormulas()">Formulas</a>.
          </div>
        </div>

        <div class="card-content constant-class">
          <div class="card-body">
            <div class="col-lg-6 pt-2">
              <form #RIForm="ngForm">
                <div class="form-group" [ngClass]="{
                  'is-invalid': saveClicked
                }">
                  <label for="example-text-input" class="form-control-label">{{ "plan.billing.gracePeriod" | translate
                    }}
                    <span class="text-danger">*</span></label>
                  <div class="input-group" [ngClass]="{
                            'is-invalid': saveClicked
                          }">
                    <input class="form-control" mat-raised-button
                      ngbTooltip="{{'plan.lapsation.gracePeriod' | translate}}" placement="top"
                      [disabled]="disableControl" type="number" placeholder="0"
                      [(ngModel)]="billingOptions.gracePeriodDays" #gracePeriodDays="ngModel" name="gracePeriodDays"
                      required [min]="0" [max]="150" />
                    <div class="input-group-append">
                      <span class="input-group-text">Day(s)</span>
                    </div>
                  </div>

                  <div *ngIf="saveClicked || gracePeriodDays?.errors?.required" class="invalid-feedback">
                    {{ "plan.billing.requiredField" | translate
                    }}{{ "plan.billing.gracePeriod" | translate }}
                  </div>
                  <div *ngIf="
                              saveClicked &&
                              (gracePeriodDays?.errors?.min ||
                                gracePeriodDays?.errors?.max)
                            " class="invalid-feedback d-block">
                    {{ "plan.billing.gracePeriodError" | translate }}
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>